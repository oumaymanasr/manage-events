<button (click)="exportToExcel()" class="btn btn-primary">Export to excel</button>


<div>
    <div class="col-md-5">
        <input type="file" style="display: inline-block;" (change)="incomingfile($event)" placeholder="Upload file"
            accept=".xlsx">
        <button type="button" class="btn btn-primary" (click)="importFromExcel()">Importer</button>
        <div class="m-separator m-separator--dashed d-xl-none"> </div>
    </div>
</div>





<input type="text" placeholder="formationangular" [(ngModel)]="formationangular">
<input type="text" placeholder="formationangular2" [(ngModel)]="formationangular2">


<!-- Modal Add -->
<div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Add Evenement</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">


                <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" class="m-form">
                    <div class="m-portlet__body">
                        <div class="m-form__section m-form__section--first">

                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    nom:
                                </label>
                                <input [formControl]="nom" type="text" class="form-control m-input"
                                    placeholder="Enter Last name">

                            </div>
                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    description:
                                </label>
                                <input [formControl]="description" type="text" class="form-control m-input"
                                    placeholder="Enter Last name">

                            </div>
                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    nbrparticipant:
                                </label>
                                <input [formControl]="nbrparticipant" type="text" class="form-control m-input"
                                    placeholder="Enter Last name">

                            </div>
                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    langitude:
                                </label>
                                <input [formControl]="langitude" type="text" class="form-control m-input"
                                    placeholder="Enter adresse">

                            </div>
                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    latitude:
                                </label>
                                <input [formControl]="latitude" type="text" class="form-control m-input"
                                    placeholder="Enter adresse">

                            </div>
                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    type:
                                </label>
                                <input [formControl]="type" type="text" class="form-control m-input"
                                    placeholder="Enter adresse">
                            </div>
                        </div>
                    </div>
                    <div class="m-portlet__foot m-portlet__foot--fit">
                        <div class="m-form__actions m-form__actions">

                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary" (click)="onSubmit()"> Submit</button>
                <button type="reset" class="btn btn-secondary"> Cancel </button>
            </div>
        </div>
    </div>
</div>
<!-- Modal Add -->





<!-- Modal Update -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Update Evenement</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">


                <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" class="m-form">
                    <div class="m-portlet__body">
                        <div class="m-form__section m-form__section--first">

                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    nom:
                                </label>
                                <input value="{{singledata?.nom}}">

                            </div>
                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    description:
                                </label>
                                <input value="{{singledata?.description}}">

                            </div>
                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    nbrparticipant:
                                </label>
                                <input value="{{singledata?.nbrparticipant}}">

                            </div>
                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    langitude:
                                </label>
                                <input value="{{singledata?.langitude}}">

                            </div>
                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    latitude:
                                </label>
                                <input value="{{singledata?.latitude}}">

                            </div>
                            <div class="form-group m-form__group">
                                <label for="example_input_full_name">
                                    type:
                                </label>
                                <input value="{{singledata?.type}}">
                            </div>
                        </div>
                    </div>
                    <div class="m-portlet__foot m-portlet__foot--fit">
                        <div class="m-form__actions m-form__actions">

                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary" (click)="onUpdate()">Submit</button>
                <button type="reset" class="btn btn-secondary"> Cancel </button>
            </div>
        </div>
    </div>
</div>
<!-- Modal Update -->


<!-- Button Add -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal1"> Add </button>


<table class="table table-striped"
    [mfData]="data |formationangular:formationangular|formationangular2:formationangular2" #mf="mfDataTable"
    [mfRowsOnPage]="5">


    <thead class="m-datatable__head">

        <tr class="m-datatable__row">

            <th style="width: 10%">
                <mfDefaultSorter by="nom">nom</mfDefaultSorter>
            </th>
            <th style="width: 10%">
                <mfDefaultSorter by="description">description</mfDefaultSorter>
            </th>
            <th style="width: 10%">
                <mfDefaultSorter by="nbrparticipant">nbrparticipant</mfDefaultSorter>
            </th>
            <th style="width: 10%">
                <mfDefaultSorter by="langitude">langitude</mfDefaultSorter>
            </th>
            <th style="width: 10%">
                <mfDefaultSorter by="latitude">latitude</mfDefaultSorter>
            </th>
            <th style="width: 10%">
                <mfDefaultSorter by="type">type</mfDefaultSorter>
            </th>
            <th style="width: 10%">
                <mfDefaultSorter by="type">Action</mfDefaultSorter>
            </th>
        </tr>

        <tr *ngFor="let item of mf.data">
            <td>{{item.nom}}</td>
            <td>{{item.description}}</td>
            <td>{{item.nbrparticipant}}</td>
            <td>{{item.langitude}}</td>
            <td>{{item.latitude}}</td>
            <td>{{item.type}}</td>
            <td> <button type="button" (click)="affiche(item)" class="btn btn-primary" data-toggle="modal"
                    data-target="#exampleModal"> Update </button>

                    <button type="button" (click)="onDelete(item.id)" class="btn btn-primary"> Delete </button></td>

        </tr>
    </thead>

    <tfoot>
        <tr>
            <td colspan="4">
                <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
            </td>
        </tr>
    </tfoot>
</table>